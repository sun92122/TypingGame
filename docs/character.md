# 主角

## 設定檔位置

`data/setting/characters.json`

## 主角設定值

```json
  {
    "name": "<主角名稱>",
    "scale": 0.1,
    "HP": {
      "maxlevel": 5,
      "value": [
        100,
        150,
        200,
        230,
        280
      ],
    },
    "pictures": {
      "idle": [
        {
          "duration": 100000,
          "path": "<圖片路徑>",
          "x": 0,
          "y": 0
        }
      ],
      "moving": [
        {
          "duration": 100,
          "path": "<圖片路徑>",
          "x": 0,
          "y": 0
        }
      ],
      "injured": [
        {
          "duration": 100,
          "path": "<圖片路徑>",
          "x": 0,
          "y": 0
        }
      ],
      "typing": [
        {
          "duration": 100,
          "path": "<圖片路徑>",
          "x": 0,
          "y": 0
        }
      ]
    },
    "attack": {
      "basic": {
        "maxlevel": 5,
        "effect": 0,
        "delay": 200,
        "name": "basic",
        "damage": [
          10,
          20,
          30,
          40,
          50
        ],
        "cooldown": [
          0,
          0,
          0,
          0,
          0
        ],
        "piercing": [
          0,
          1,
          2,
          3,
          4
        ],
        "pictures": [
          [
            {
              "duration": 100,
              "path": "<圖片路徑>",
              "x": 0,
              "y": 0
            }
          ],
          [],
          [],
          [],
          []
        ],
        "other": [
          [
            {
              "pictures": [
                {
                  "duration": 100,
                  "path": "<圖片路徑>"
                }
              ],
              "scale": 0.1,
              "delay": 400,
              "x": -50,
              "y": 0,
              "type": 1
            }
          ],
          [],
          [],
          [],
          []
        ]
      },
      "fever": {

      },
      "skill": [
        {
          
        },
        {

        },
        {

        },
        {

        },
        {

        }
      ]
    }
  }
```

- `name` *字串*： 主角名稱，用於識別主角，不可重複（目前僅支援一個主角）
- `scale` *浮點數*： 主角大小比例，長寬皆為原圖大小乘上此比例
- `HP`： 主角血量設定
  - `maxlevel` *整數*： 主角血量最高等級
  - `value` *整數陣列*： 主角血量各等級的血量，陣列長度需等於 `maxlevel`
- `pictures`： 主角各狀態的圖片
  - `idle`： 主角待機圖片設定
  - `moving`： 主角移動圖片設定
  - `injured`： 主角受傷圖片設定
  - `typing`： 主角打字圖片設定
    - `duration` *整數*： 圖片顯示時間（毫秒）
    - `path` *字串*： 圖片路徑
    - `x` *整數*： 圖片顯示位置的 x 位移
    - `y` *整數*： 圖片顯示位置的 y 位移
- `attack`： 主角攻擊設定
  - `basic` *技能設定*： 主角基本攻擊設定
  - `fever` *技能設定*： 主角發燒攻擊設定
  - `skill` *技能設定陣列*： 主角技能攻擊設定，陣列長度需等於 4
    - `maxlevel` *整數*： 主角攻擊最高等級
    - `effect` *整數*： 主角攻擊特殊效果（見 [攻擊特效](#攻擊特效)）
    - `delay` *整數*： 主角攻擊到造成傷害的延遲時間（毫秒），會影響飛行物的速度
    - `name` *字串*： 主角攻擊名稱
    - `damage` *整數陣列*： 主角攻擊各等級的攻擊力，陣列長度需等於 `maxlevel`
    - `cooldown` *整數陣列*： 主角攻擊各等級的冷卻時間，陣列長度需等於 `maxlevel`
    - `piercing` *整數陣列*： 主角攻擊各等級的穿透數，陣列長度需等於 `maxlevel`，穿透數為 0 時只能攻擊一個怪物，穿透數為 1 時可以攻擊一個怪物和一個怪物後面的怪物，以此類推
    - `pictures` *圖片陣列陣列*： 主角攻擊各等級的圖片，陣列長度需等於 `maxlevel`
      - `duration` *整數*： 圖片顯示時間（毫秒）
      - `path` *字串*： 圖片路徑
      - `x` *整數*： 圖片顯示位置的 x 位移
      - `y` *整數*： 圖片顯示位置的 y 位移
    - `other` *攻擊附屬物設定陣列陣列*： 主角攻擊各等級的攻擊附屬物設定，陣列長度需等於 `maxlevel`
      - `pictures` *圖片陣列*： 攻擊附屬物設定的圖片
        - `duration` *整數*： 圖片顯示時間（毫秒）
        - `path` *字串*： 圖片路徑
      - `scale` *浮點數*： 攻擊附屬物設定的圖片大小比例，長寬皆為原圖大小乘上此比例
      - `delay` *整數*： 攻擊附屬物設定的圖片顯示延遲時間（毫秒）
      - `x` *整數*： 攻擊附屬物的圖片顯示位置的 x 位移，相對於主角
      - `y` *整數*： 攻擊附屬物的圖片顯示位置的 y 位移，相對於主角
      - `type` *整數*： 攻擊附屬物設定的圖片類型（見 [攻擊附屬物類型](#攻擊附屬物類型)）

### 攻擊特效

- `0`： 無特效
- `1`： 冰凍： 使怪物無法移動，持續 3 秒（未實作）
- `2`： 灼燒： 使怪物每秒扣血 10 點，持續 3 秒（未實作）

### 攻擊附屬物類型

- `0`：
  - 直線向前飛行
  - 飛行時間為「攻擊到造成傷害的延遲時間 - 攻擊附屬物設定的圖片顯示延遲時間」
  - 飛行終點為 最前方的怪物的 x 座標，若沒有怪物則飛行終點為畫面最右邊
- `1`：
  - 拋物線向前飛行
  - 飛行時間為「攻擊到造成傷害的延遲時間 - 攻擊附屬物設定的圖片顯示延遲時間」
  - 飛行終點為 最前方的怪物的 x 座標，若沒有怪物則飛行終點為畫面最右邊
  - 飛行高度會自動計算，終點高度為 地面
- `2`：
  - 直線向前飛行，擊中後返航
  - 單程飛行時間為「攻擊到造成傷害的延遲時間 - 攻擊附屬物設定的圖片顯示延遲時間」
  - 飛行終點為 最前方的怪物的 x 座標，若沒有怪物則飛行終點為畫面最右邊，擊中後原路返回
  - 返航點為 最前方的怪物的 x 座標，若沒有怪物則飛行終點為畫面最右邊
- `3`：（未實作）
  - 直線垂直向下飛行
  - 飛行時間為「攻擊到造成傷害的延遲時間 - 攻擊附屬物設定的圖片顯示延遲時間」
  - 飛行終點為 地面高度
- `4`：（未實作）
  - 直線垂直向上飛行
  - 飛行時間為「攻擊到造成傷害的延遲時間 - 攻擊附屬物設定的圖片顯示延遲時間」
  - 飛行終點為 畫面最上方
